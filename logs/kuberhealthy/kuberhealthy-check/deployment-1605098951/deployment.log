time="2020-11-11T12:49:19Z" level=info msg="Found instance namespace: kuberhealthy"
time="2020-11-11T12:49:19Z" level=info msg="Kuberhealthy is located in the kuberhealthy namespace."
time="2020-11-11T12:49:19Z" level=info msg="Found pod namespace: kuberhealthy"
time="2020-11-11T12:49:19Z" level=info msg="Performing check in kuberhealthy namespace."
time="2020-11-11T12:49:19Z" level=info msg="Parsed CHECK_DEPLOYMENT_REPLICAS: 4"
time="2020-11-11T12:49:19Z" level=info msg="Parsed CHECK_SERVICE_ACCOUNT: default"
time="2020-11-11T12:49:19Z" level=info msg="Check time limit set to: 14m46.907374516s"
time="2020-11-11T12:49:19Z" level=info msg="Parsed CHECK_DEPLOYMENT_ROLLING_UPDATE: true"
time="2020-11-11T12:49:19Z" level=info msg="Check deployment image will be rolled from [nginxinc/nginx-unprivileged:1.17.8] to [nginxinc/nginx-unprivileged:1.17.9]"
time="2020-11-11T12:49:19Z" level=info msg="Kubernetes client created."
time="2020-11-11T12:49:19Z" level=info msg="Waiting for node to become ready before starting check."
time="2020-11-11T12:49:19Z" level=error msg="Failed to check node age: nodes \"gke-****-tekton-default-pool-154aeb80-pmxj\" is forbidden: User \"system:serviceaccount:kuberhealthy:deployment-sa\" cannot get resource \"nodes\" in API group \"\" at the cluster scope"
time="2020-11-11T12:49:19Z" level=info msg="Starting check."
time="2020-11-11T12:49:19Z" level=info msg="Wiping all found orphaned resources belonging to this check."
time="2020-11-11T12:49:19Z" level=info msg="Attempting to find previously created service(s) belonging to this check."
time="2020-11-11T12:49:19Z" level=info msg="Did not find any old service(s) belonging to this check."
time="2020-11-11T12:49:19Z" level=info msg="Attempting to find previously created deployment(s) belonging to this check."
time="2020-11-11T12:49:19Z" level=info msg="Did not find any old deployment(s) belonging to this check."
time="2020-11-11T12:49:19Z" level=info msg="Successfully cleaned up prior check resources."
time="2020-11-11T12:49:19Z" level=info msg="Creating deployment resource with 4 replica(s) in kuberhealthy namespace using image [nginxinc/nginx-unprivileged:1.17.8] with environment variables: map[]"
time="2020-11-11T12:49:19Z" level=info msg="Creating container using image [nginxinc/nginx-unprivileged:1.17.8] with environment variables: map[]"
time="2020-11-11T12:49:19Z" level=info msg="Created deployment resource."
time="2020-11-11T12:49:19Z" level=info msg="Creating deployment in cluster with name: deployment-deployment"
time="2020-11-11T12:49:20Z" level=info msg="Watching for deployment to exist."
time="2020-11-11T12:49:34Z" level=info msg="Deployment is reporting Available with True."
time="2020-11-11T12:49:34Z" level=info msg="Created deployment in kuberhealthy namespace: deployment-deployment"
time="2020-11-11T12:49:34Z" level=info msg="Creating service resource for kuberhealthy namespace."
time="2020-11-11T12:49:34Z" level=info msg="Created service resource."
time="2020-11-11T12:49:34Z" level=info msg="Creating service in cluster with name: deployment-svc"
time="2020-11-11T12:49:34Z" level=info msg="Watching for service to exist."
time="2020-11-11T12:49:34Z" level=info msg="Cluster IP found: 10.11.251.97"
time="2020-11-11T12:49:34Z" level=info msg="Created service in kuberhealthy namespace: deployment-svc"
time="2020-11-11T12:49:34Z" level=info msg="Found service cluster IP address: 10.11.251.97"
time="2020-11-11T12:49:34Z" level=info msg="Looking for a response from the endpoint."
time="2020-11-11T12:49:34Z" level=info msg="Beginning backoff loop for HTTP GET request."
time="2020-11-11T12:49:35Z" level=info msg="Retrying in 5 seconds."
time="2020-11-11T12:49:40Z" level=info msg="Successfully made an HTTP request on attempt: 2"
time="2020-11-11T12:49:40Z" level=info msg="Got a 200 with a GET to http://10.11.251.97"
time="2020-11-11T12:49:40Z" level=info msg="Got a result from GET request backoff: 200 OK"
time="2020-11-11T12:49:40Z" level=info msg="Successfully hit service endpoint."
time="2020-11-11T12:49:40Z" level=info msg="Rolling update option is enabled. Performing roll."
time="2020-11-11T12:49:40Z" level=info msg="Creating deployment resource with 4 replica(s) in kuberhealthy namespace using image [nginxinc/nginx-unprivileged:1.17.9] with environment variables: map[]"
time="2020-11-11T12:49:40Z" level=info msg="Creating container using image [nginxinc/nginx-unprivileged:1.17.9] with environment variables: map[]"
time="2020-11-11T12:49:40Z" level=info msg="Created rolling-update deployment resource."
time="2020-11-11T12:49:40Z" level=info msg="Performing rolling-update on deployment deployment-deployment to [nginxinc/nginx-unprivileged:1.17.9]"
time="2020-11-11T12:49:40Z" level=info msg="Rolled deployment in kuberhealthy namespace: deployment-deployment"
time="2020-11-11T12:49:40Z" level=info msg="Looking for a response from the endpoint."
time="2020-11-11T12:49:40Z" level=info msg="Beginning backoff loop for HTTP GET request."
time="2020-11-11T12:49:40Z" level=info msg="Successfully made an HTTP request on attempt: 1"
time="2020-11-11T12:49:40Z" level=info msg="Got a 200 with a GET to http://10.11.251.97"
time="2020-11-11T12:49:40Z" level=info msg="Got a result from GET request backoff: 200 OK"
time="2020-11-11T12:49:40Z" level=info msg="Successfully hit service endpoint after rolling-update."
time="2020-11-11T12:49:40Z" level=info msg="Cleaning up deployment and service."
time="2020-11-11T12:49:40Z" level=info msg="Attempting to delete service deployment-svc in kuberhealthy namespace."
time="2020-11-11T12:49:45Z" level=info msg="Attempting to delete deployment in kuberhealthy namespace."
time="2020-11-11T12:49:50Z" level=info msg="Attempting to delete deployment in kuberhealthy namespace."
time="2020-11-11T12:49:55Z" level=info msg="Attempting to delete deployment in kuberhealthy namespace."
time="2020-11-11T12:50:00Z" level=info msg="Finished clean up process."
time="2020-11-11T12:50:00Z" level=info msg="Reporting success to Kuberhealthy."
